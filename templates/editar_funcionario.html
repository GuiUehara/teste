{% extends "base.html" %}

{% block content %}
<div class="form-container">
    <h2>Editar Funcionário</h2>

    <form method="POST" action="{{ url_for('funcionarios.editar_funcionario', id_usuario=id_usuario) }}">

        <h3>Dados Pessoais</h3>
        <div class="form-group"><label for="nomeFuncionario">Nome Completo</label><input type="text" name="nomeFuncionario" id="nomeFuncionario" value="{{ funcionario.nome }}" required></div>
        <div class="form-group"><label for="cpfFuncionario">CPF</label><input type="text" name="cpfFuncionario" id="cpfFuncionario" value="{{ funcionario.cpf }}" pattern="\d{11}" title="Digite 11 números" maxlength="11" required></div>
        <div class="form-group"><label for="rgFuncionario">RG</label><input type="text" name="rgFuncionario" id="rgFuncionario" value="{{ funcionario.rg }}" maxlength="14" required></div>
        <div class="form-group"><label for="dataNascFuncionario">Data de Nascimento</label><input type="date" name="dataNascFuncionario" id="dataNascFuncionario" value="{{ funcionario.data_nascimento }}" required></div>
        <div class="form-group"><label for="emailUsuario">Email</label><input type="email" name="emailUsuario" id="emailUsuario" value="{{ funcionario.email_usuario }}" required></div>

        <div class="form-group">
            <label for="cargoFuncionario">Cargo</label>
            <select name="cargoFuncionario" id="cargoFuncionario" required>
                <option value="Atendente" {% if funcionario.cargo == 'Atendente' %}selected{% endif %}>Atendente</option>
                <option value="Gerente" {% if funcionario.cargo == 'Gerente' %}selected{% endif %}>Gerente</option>
                <option value="Mecânico" {% if funcionario.cargo == 'Mecânico' %}selected{% endif %}>Mecânico</option>
            </select>
        </div>

        <div class="form-group"><label for="senhaUsuario">Nova Senha (opcional)</label><input type="password" name="senhaUsuario" id="senhaUsuario" placeholder="Deixe em branco para não alterar"></div>

        <hr>
        <h3>Endereço</h3>

        <div class="form-group cep-group">
            <input type="text" name="cep" id="cep" value="{{ funcionario.cep }}" placeholder="CEP" pattern="\d{8}" maxlength="8" required>
            <!-- A função consultaCep() é importada de /static/js/cep.js -->
            <button type="button" class="btn-secondary" onclick="consultaCep('cep', 'logradouro', 'bairro', 'cidade', 'estado')">Buscar</button>
        </div>

        <div class="form-group"><input type="text" name="logradouro" id="logradouro" value="{{ funcionario.logradouro }}" placeholder="Logradouro" required></div>
        <div class="form-group"><input type="text" name="numero" id="numero" value="{{ funcionario.numero }}" placeholder="Número" required></div>
        <div class="form-group"><input type="text" name="complemento" id="complemento" value="{{ funcionario.complemento }}" placeholder="Complemento"></div>
        <div class="form-group"><input type="text" name="bairro" id="bairro" value="{{ funcionario.bairro }}" placeholder="Bairro" required></div>
        <div class="form-group"><input type="text" name="cidade" id="cidade" value="{{ funcionario.cidade }}" placeholder="Cidade" required></div>
        <div class="form-group"><input type="text" name="estado" id="estado" value="{{ funcionario.estado }}" placeholder="UF" maxlength="2" required></div>

        <button type="submit" class="btn-primary">Atualizar Funcionário</button>
    </form>
</div>
{% endblock %}
